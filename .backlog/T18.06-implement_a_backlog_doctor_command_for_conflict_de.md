---
id: "18.06"
title: Implement a backlog doctor command for conflict detection
status: in-progress
assignee: '@me'
labels:
    - cli
    - feature
    - maintenance
parent: "18"
priority: low
created_at: 2025-09-21T22:00:10.304142Z
updated_at: 2025-09-21T22:41:06.859306Z
history:
    - timestamp: 2025-09-21T22:00:13.306285Z
      change: Description changed
    - timestamp: 2025-09-21T22:00:16.14337Z
      change: 'Added acceptance criterion #1: "A new doctor.go file is added to internal/cmd."'
    - timestamp: 2025-09-21T22:00:19.071144Z
      change: 'Added acceptance criterion #2: "The command ''backlog doctor'' is available."'
    - timestamp: 2025-09-21T22:00:22.059511Z
      change: 'Added acceptance criterion #3: "The command detects and reports on files with duplicate ''id:'' fields in the frontmatter."'
    - timestamp: 2025-09-21T22:00:24.824318Z
      change: 'Added acceptance criterion #4: "The command detects and reports on malformed task filenames or IDs."'
    - timestamp: 2025-09-21T22:00:27.509959Z
      change: 'Added acceptance criterion #5: "The command outputs a clean ''No issues found'' message if the store is healthy."'
    - timestamp: 2025-09-21T22:41:00.794737Z
      change: Status changed from "todo" to "in-progress"
      type: field_update
    - timestamp: 2025-09-21T22:41:06.859304Z
      change: Implementation plan changed
      type: field_update
---
## Description

Create a new CLI command 'backlog doctor' that scans the '.backlog' directory for issues, including duplicate or malformed task IDs. This provides a way for users to verify the integrity of their task store.

## Acceptance Criteria
<!-- AC:BEGIN -->

- [ ] #1 A new doctor.go file is added to internal/cmd.
- [ ] #2 The command 'backlog doctor' is available.
- [ ] #3 The command detects and reports on files with duplicate 'id:' fields in the frontmatter.
- [ ] #4 The command detects and reports on malformed task filenames or IDs.
- [ ] #5 The command outputs a clean 'No issues found' message if the store is healthy.

<!-- AC:END -->

## Implementation Plan

1. Create doctor.go. 2. Implement doctor command with cobra. 3. List files in .backlog. 4. Parse frontmatter for IDs. 5. Track and report duplicate IDs. 6. Check for malformed filenames/IDs. 7. Output summary.


## Implementation Notes


