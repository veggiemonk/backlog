---
id: "21.01"
title: Add core Move method to FileTaskStore
status: todo
labels:
    - core
    - backend
parent: "21"
priority: high
created_at: 2025-10-17T13:55:48.434929Z
---
## Description

Implement the core business logic for moving a task to a new parent. This method handles ID calculation, validation, file operations, and history tracking.

## Acceptance Criteria
<!-- AC:BEGIN -->

- [ ] #1 Move(taskID
- [ ] #2  newParentID) method exists in FileTaskStore
- [ ] #3 Method validates that parent task exists
- [ ] #4 Method detects cycles using recursive parent traversal
- [ ] #5 Method calculates new task ID using parent.NextSubTaskID() or getNextTaskID(parent.seg...)
- [ ] #6 Method validates that calculated new ID doesn't already exist
- [ ] #7 Method updates task.ID and task.Parent fields
- [ ] #8 Method calls RecordIDChange() to track the ID change in history
- [ ] #9 Method writes task with new ID and removes old file
- [ ] #10 Method returns new TaskID on success

<!-- AC:END -->

## Implementation Plan



## Implementation Notes


