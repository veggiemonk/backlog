---
id: "26.01"
title: Fix acceptance_criteria nil slice marshaling
status: todo
labels:
    - mcp
    - json-marshaling
    - phase-2
parent: "26"
priority: critical
created_at: 2025-09-19T13:45:21.258295Z
---
## Description

Ensure AcceptanceCriteria field always marshals to an empty array instead of null to fix MCP validation errors.

## Acceptance Criteria
<!-- AC:BEGIN -->

- [ ] #1 NewTask() initializes AcceptanceCriteria as empty slice
- [ ] #2 Custom MarshalJSON ensures consistent array output
- [ ] #3 No more null acceptance_criteria in responses

<!-- AC:END -->

## Implementation Plan

1. Modify NewTask() in task.go to initialize as empty slice
2. Add custom MarshalJSON method to Task struct
3. Ensure nil slices become empty arrays
4. Test JSON output consistency


## Implementation Notes


